{% extends "base.html" %} {% block content %}
<div class="h-screen flex flex-col items-center justify-center animate-fade-in">
  <h1 class="text-4xl md:text-5xl mb-12 font-medium tracking-wide">
    Who's watching?
  </h1>

  <div class="flex gap-8">
    <!-- Profile 1 -->
    <a
      href="{{ url_for('browse') }}"
      onclick="playTadum(event)"
      class="group flex flex-col items-center gap-4"
    >
      <div
        class="w-24 h-24 md:w-32 md:h-32 rounded bg-cover bg-center border-4 border-transparent group-hover:border-white transition-all overflow-hidden"
        style="
          background-image: url(&quot;https://mir-s3-cdn-cf.behance.net/project_modules/disp/84c20033850498.56ba69ac290ea.png&quot;);
        "
      ></div>
      <span class="text-gray-400 group-hover:text-white text-lg">My Love</span>
    </a>

    <!-- Add Profile (Fake) -->
    <div
      class="group flex flex-col items-center gap-4 cursor-not-allowed opacity-50"
    >
      <div
        class="w-24 h-24 md:w-32 md:h-32 rounded flex items-center justify-center bg-[#333] border-4 border-transparent"
      >
        <i data-lucide="plus-circle" class="w-12 h-12 text-gray-500"></i>
      </div>
      <span class="text-gray-400 text-lg">Add Profile</span>
    </div>
  </div>

  <a
    href="{{ url_for('logout') }}"
    class="mt-20 border border-gray-500 px-6 py-2 text-gray-500 hover:text-white hover:border-white tracking-widest uppercase text-sm transition-colors"
  >
    Sign Out
  </a>
</div>

<script>
    // Preload Ta-dum
    document.addEventListener('DOMContentLoaded', () => {
        window.soundManager.preload('tadum', '{{ url_for("static", filename="sfx/tadum.mp3") }}');
    });

    function playTadum(e) {
        e.preventDefault();
        const targetUrl = "{{ url_for('browse') }}";

        if (window.soundManager.muted) {
            window.location.href = targetUrl;
            return;
        }

        window.soundManager.play('tadum', '{{ url_for("static", filename="sfx/tadum.mp3") }}');

        // Delay for dramatic effect
        setTimeout(() => {
            window.location.href = targetUrl;
        }, 800);
    }
</script>
{% endblock %}
